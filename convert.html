<!DOCTYPE html>
<html>
<head>
<title>Converter</title>
<script src="js/code_val.js"></script>
<script type="text/javascript">
    function convert() {
        let code = document.getElementById('input').value;
        let quote = null, verse = "", valArray = [];
        for(let i = 0;i < code.length;i++) {
            const char = code[i];
            if(quote != null) {
                if(char == quote) {
                    quote = null;
                    verse = "";
                } else {
                    verse += char;
                }
                continue;
            }
            if(char === '\'' || char === '"' || char === '`') {
                if(verse.length > 0) {
                    valArray.push(new CodeVal(verse));
                }
                verse = char;
                quote = char;
            } else if(char === ' ') {
                if(verse.length > 0) {
                    valArray.push(new CodeVal(verse));
                }
                valArray.push(new CodeVal(char));
                verse = "";
            } else if(char === '\t' || char === '\r' || char === '\n') {
                if(verse.length > 0) {
                    valArray.push(new CodeVal(verse));
                }
                valArray.push(new CodeVal(char));
                verse = "";
            } else if(char === ';' || char === ',' || char === '(' || char === ')') {
                if(verse.length > 0) {
                    valArray.push(new CodeVal(verse));
                }
                valArray.push(new CodeVal(char));
                verse = "";
            } else {
                verse += char;
            }
        }
        for (let i = 0;i < valArray.length;i++) {
            console.log(valArray[i].toString());
        }
    }
</script>
</head>
<body>
<textarea id="input" style="width: 500px;height: 400px;">&lt;?php
class TestClass1 {
    var $val = 100;

    function add() {
        return $this->val + 97;
    }
}
$a =&amp; new TestClass1();
echo $a->val.PHP_EOL;
echo $a->add().PHP_EOL;</textarea>
<input type="button" value="Convert" onclick="convert()">
<textarea id="output" style="width: 500px;height: 400px;"></textarea>
</body>
</html>